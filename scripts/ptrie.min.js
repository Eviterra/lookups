namespace.lookup("org.startpad.trie.packed").define(function(j){function g(b){this.nodes=b.split(h)}function i(b){var c=0,a,d,e;a=1;for(d=36;a<b.length;c+=d,a++,d*=36);d=b.length-1;for(a=1;d>=0;d--,a*=36){e=b.charCodeAt(d)-48;if(e>10)e-=7;c+=e*a}return c}var h=";";j.extend({PackedTrie:g,NODE_SEP:h,STRING_SEP:",",TERMINAL_PREFIX:"!",toAlphaCode:function(b){var c,a,d="";c=1;for(a=36;b>=a;b-=a,c++,a*=36);for(;c--;){a=b%36;d=String.fromCharCode((a<10?48:55)+a)+d;b=(b-a)/36}return d},fromAlphaCode:i});
var k=RegExp("([a-z]+)(,|[0-9A-Z]+|$)","g");g.methods({isWord:function(b){return this.isFragment(b,0)},isFragment:function(b,c){var a=this.nodes[c];if(b.length==0)return a[0]=="!";a=this.findNextNode(b,a);if(a==undefined)return false;if(a.terminal)return true;return this.isFragment(b.slice(a.prefix.length),c+a.dnode)},findNextNode:function(b,c){if(c[0]=="!")c=c.slice(1);var a;c.replace(k,function(d,e,f){if(!a)if(f==","||f==""){if(e==b)a={terminal:true,prefix:e}}else if(e==b.slice(0,e.length))a={terminal:false,
prefix:e,dnode:i(f)+1}});return a}})});